{"ast":null,"code":"import _classCallCheck from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/jvt/Documentos/ISW/Front Recuperaciones/src/views/CamaAddForm.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Card, CardBody } from \"shards-react\";\nimport camaService from '../services/cama.service';\nimport salaService from '../services/sala.service';\nimport CamaAdd from '../components/forms/CamaAdd';\nimport PageTitle from \"../components/common/PageTitle\";\n\nvar CamaAddForm = /*#__PURE__*/function (_Component) {\n  _inherits(CamaAddForm, _Component);\n\n  function CamaAddForm(props) {\n    var _this;\n\n    _classCallCheck(this, CamaAddForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CamaAddForm).call(this, props));\n    _this.handleCamaAddSubmit = _this.handleCamaAddSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CamaAddForm, [{\n    key: \"handleCamaAddSubmit\",\n    value: function handleCamaAddSubmit(data) {\n      camaService.create(data).then(function (response) {\n        if (response.data) {\n          salaService.getSala(data.idSala).then(function (sala) {\n            return salaService.update({\n              'id': data.idSala,\n              'camas': sala.data.camas + 1,\n              'disponibles': sala.data.disponibles + 1\n            });\n          }).then(function (response) {\n            window.alert('Cama ingresada.');\n            console.log(response);\n          });\n        } else {\n          window.alert('No se ha podido ingresar.');\n        }\n      }).catch(function (error) {\n        return window.alert('Ha ocurrido un error. Intente nuevamente.');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        className: \"main-content-container px-4 pb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        noGutters: true,\n        className: \"page-header py-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(PageTitle, {\n        sm: \"5\",\n        title: \"Agregar Cama de Recuperaci\\xF3n\",\n        subtitle: \"\",\n        className: \"text-sm-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(CamaAdd, {\n        onSubmit: this.handleCamaAddSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return CamaAddForm;\n}(Component);\n\n;\nexport default CamaAddForm;","map":{"version":3,"sources":["/home/jvt/Documentos/ISW/Front Recuperaciones/src/views/CamaAddForm.js"],"names":["React","Component","Container","Row","Col","Card","CardBody","camaService","salaService","CamaAdd","PageTitle","CamaAddForm","props","handleCamaAddSubmit","bind","data","create","then","response","getSala","idSala","sala","update","camas","disponibles","window","alert","console","log","catch","error"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACEC,SADF,EAEEC,GAFF,EAGEC,GAHF,EAIEC,IAJF,EAKEC,QALF,QAMO,cANP;AAOA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,OAAP,MAAoB,6BAApB;AACA,OAAOC,SAAP,MAAsB,gCAAtB;;IAEMC,W;;;AAEJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;AAEA,UAAKC,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBC,IAAzB,uDAA3B;AAHiB;AAIlB;;;;wCAEmBC,I,EAAM;AACxBR,MAAAA,WAAW,CAACS,MAAZ,CAAmBD,IAAnB,EACGE,IADH,CACQ,UAASC,QAAT,EAAkB;AAAE,YAAGA,QAAQ,CAACH,IAAZ,EAAiB;AACzCP,UAAAA,WAAW,CAACW,OAAZ,CAAoBJ,IAAI,CAACK,MAAzB,EACGH,IADH,CACQ,UAACI,IAAD;AAAA,mBAAUb,WAAW,CAACc,MAAZ,CAAmB;AAAC,oBAAKP,IAAI,CAACK,MAAX;AAAmB,uBAAQC,IAAI,CAACN,IAAL,CAAUQ,KAAV,GAAkB,CAA7C;AAAgD,6BAAeF,IAAI,CAACN,IAAL,CAAUS,WAAV,GAAwB;AAAvF,aAAnB,CAAV;AAAA,WADR,EAEGP,IAFH,CAEQ,UAASC,QAAT,EAAkB;AACtBO,YAAAA,MAAM,CAACC,KAAP,CAAa,iBAAb;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAYV,QAAZ;AACD,WALH;AAMC,SAPuB,MAOnB;AAACO,UAAAA,MAAM,CAACC,KAAP,CAAa,2BAAb;AAA0C;AAAC,OARrD,EASGG,KATH,CASS,UAACC,KAAD;AAAA,eAAWL,MAAM,CAACC,KAAP,CAAa,2CAAb,CAAX;AAAA,OATT;AAUD;;;6BAEQ;AAEP,0BACE,oBAAC,SAAD;AAAW,QAAA,KAAK,MAAhB;AAAiB,QAAA,SAAS,EAAC,kCAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEE,oBAAC,GAAD;AAAK,QAAA,SAAS,MAAd;AAAe,QAAA,SAAS,EAAC,kBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAW,QAAA,EAAE,EAAC,GAAd;AAAkB,QAAA,KAAK,EAAC,iCAAxB;AAAuD,QAAA,QAAQ,EAAC,EAAhE;AAAmE,QAAA,SAAS,EAAC,cAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,eAME,oBAAC,OAAD;AACE,QAAA,QAAQ,EAAE,KAAKb,mBADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADF;AAYD;;;;EAnCuBZ,S;;AAoCzB;AAED,eAAeU,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  CardBody,\n} from \"shards-react\";\nimport camaService from '../services/cama.service';\nimport salaService from '../services/sala.service';\nimport CamaAdd from '../components/forms/CamaAdd';\nimport PageTitle from \"../components/common/PageTitle\";\n\nclass CamaAddForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.handleCamaAddSubmit = this.handleCamaAddSubmit.bind(this);\n  }\n\n  handleCamaAddSubmit(data) {\n    camaService.create(data)\n      .then(function(response){ if(response.data){\n        salaService.getSala(data.idSala)\n          .then((sala) => salaService.update({'id':data.idSala, 'camas':sala.data.camas + 1, 'disponibles': sala.data.disponibles + 1}))\n          .then(function(response){\n            window.alert('Cama ingresada.');\n            console.log(response);\n          })\n        }else{window.alert('No se ha podido ingresar.')}})\n      .catch((error) => window.alert('Ha ocurrido un error. Intente nuevamente.'));\n  }\n\n  render() {\n\n    return (\n      <Container fluid className=\"main-content-container px-4 pb-4\">\n        {/* Page Header */}\n        <Row noGutters className=\"page-header py-4\">\n          <PageTitle sm=\"5\" title=\"Agregar Cama de RecuperaciÃ³n\" subtitle=\"\" className=\"text-sm-left\" />\n        </Row>\n\n        <CamaAdd\n          onSubmit={this.handleCamaAddSubmit}\n        ></CamaAdd>\n      </Container>\n    );\n  }\n};\n\nexport default CamaAddForm;\n"]},"metadata":{},"sourceType":"module"}