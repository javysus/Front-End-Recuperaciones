{"ast":null,"code":"import _classCallCheck from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/jvt/Documentos/ISW/Front Recuperaciones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/jvt/Documentos/ISW/Front Recuperaciones/src/views/CamaAsigForm.js\";\nimport React, { Component } from \"react\";\nimport { Container, Row } from \"shards-react\";\nimport PageTitle from \"../components/common/PageTitle\";\nimport CamaAsig from \"../components/forms/CamaAsig\";\nimport camaService from '../services/cama.service';\n\nvar CamaAsigForm = /*#__PURE__*/function (_Component) {\n  _inherits(CamaAsigForm, _Component);\n\n  function CamaAsigForm(props) {\n    var _this;\n\n    _classCallCheck(this, CamaAsigForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CamaAsigForm).call(this, props));\n    _this.handleAsignacionSubmit = _this.handleAsignacionSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CamaAsigForm, [{\n    key: \"handleAsignacionSubmit\",\n    value: function handleAsignacionSubmit(data) {\n      camaService.getCama(data.id).then(function (cama) {\n        return camaService.update({\n          'id': data.id,\n          'idPaciente': data.idPaciente,\n          'disponible': 'false',\n          'fechaUso': 'null',\n          'idSala': cama.data.idSala,\n          'idPersonalR': data.idPersonal\n        }).then(function (response) {\n          if (response.data) {\n            window.alert('Paciente asignado correctamente.');\n          } else {\n            window.alert('No se ha podido ingresar.');\n          }\n\n          window.location.reload(false);\n        }).catch(function (error) {\n          return console.log(error);\n        });\n      });\n      /*camaService.update({'id':data.id,'idPaciente':data.idPaciente, 'disponible': 'false', 'fechaUso': 'null', 'idSala': 1})\n        .then((response) => console.log(response))\n        .catch((error) => console.log(error));*/\n      //camaService.getCama(data.id).then((cama) => console.log(cama,cama.data.idSala));\n\n      camaService.getCama(data.id).then(function (cama) {\n        return camaService.update({\n          'id': data.id,\n          'idPaciente': data.idPaciente,\n          'disponible': 'false',\n          'fechaUso': 'null',\n          'idSala': cama.data.idSala,\n          'idPersonalR': data.idPersonal\n        }).then(function (response) {\n          if (response.data) {\n            fetch('https://ms-paciente.herokuapp.com/paciente/obtenerId/' + data.idPaciente).then(function (res) {\n              return res.json();\n            }).then(function (pacienteRes) {\n              console.log(pacienteRes);\n\n              if (pacienteRes.res.estado == 4) {}\n            }); //window.alert('Paciente asignado correctamente.');\n          } else {\n            window.alert('No se ha podido ingresar.');\n          }\n          /*window.location.reload(false)*/\n\n        }).catch(function (error) {\n          return console.log(error);\n        });\n      });\n      fetch('https://ms-paciente.herokuapp.com/paciente/obtenerId/' + data.idPaciente).then(function (res) {\n        return res.json();\n      }).then(function (pacienteRes) {\n        console.log(pacienteRes);\n\n        if (pacienteRes.res.estado == 4) {\n          camaService.getCama(data.id).then(function (cama) {\n            return camaService.update({\n              'id': data.id,\n              'idPaciente': data.idPaciente,\n              'disponible': 'false',\n              'fechaUso': 'null',\n              'idSala': cama.data.idSala,\n              'idPersonalR': data.idPersonal\n            }).then(function (response) {\n              if (response.data) {\n                window.alert('Paciente asignado correctamente.');\n              } else {\n                window.alert('No se ha podido ingresar.');\n              }\n\n              window.location.reload(false);\n            }).catch(function (error) {\n              return console.log(error);\n            });\n          });\n        } else {\n          window.alert('Paciente no se encuentra en estado de recuperaci√≥n.');\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        className: \"main-content-container px-4 pb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        noGutters: true,\n        className: \"page-header py-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(PageTitle, {\n        sm: \"5\",\n        title: \"Asignar Cama de Recuperaci\\xF3n\",\n        subtitle: \"\",\n        className: \"text-sm-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(CamaAsig, {\n        onSubmit: this.handleAsignacionSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return CamaAsigForm;\n}(Component);\n\n;\nexport default CamaAsigForm;","map":{"version":3,"sources":["/home/jvt/Documentos/ISW/Front Recuperaciones/src/views/CamaAsigForm.js"],"names":["React","Component","Container","Row","PageTitle","CamaAsig","camaService","CamaAsigForm","props","handleAsignacionSubmit","bind","data","getCama","id","then","cama","update","idPaciente","idSala","idPersonal","response","window","alert","location","reload","catch","error","console","log","fetch","res","json","pacienteRes","estado"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Container,\n  Row,\n} from \"shards-react\";\n\nimport PageTitle from \"../components/common/PageTitle\";\nimport CamaAsig from \"../components/forms/CamaAsig\";\nimport camaService from '../services/cama.service';\n\nclass CamaAsigForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.handleAsignacionSubmit = this.handleAsignacionSubmit.bind(this);\n  }\n\n  handleAsignacionSubmit(data) {\n    camaService.getCama(data.id).then((cama) => camaService.update({'id':data.id,'idPaciente':data.idPaciente, 'disponible': 'false', 'fechaUso': 'null', 'idSala': cama.data.idSala, 'idPersonalR': data.idPersonal})\n    .then(function(response){ if(response.data){window.alert('Paciente asignado correctamente.')}else{window.alert('No se ha podido ingresar.')} window.location.reload(false)})\n    .catch((error) => console.log(error)))\n    /*camaService.update({'id':data.id,'idPaciente':data.idPaciente, 'disponible': 'false', 'fechaUso': 'null', 'idSala': 1})\n      .then((response) => console.log(response))\n      .catch((error) => console.log(error));*/\n    //camaService.getCama(data.id).then((cama) => console.log(cama,cama.data.idSala));\n    camaService.getCama(data.id).then((cama) => camaService.update({'id':data.id,'idPaciente':data.idPaciente, 'disponible': 'false', 'fechaUso': 'null', 'idSala': cama.data.idSala, 'idPersonalR': data.idPersonal})\n    .then(function(response){ if(response.data){\n      fetch('https://ms-paciente.herokuapp.com/paciente/obtenerId/'+data.idPaciente).then((res)=>res.json()).then(\n        function(pacienteRes){\n        console.log(pacienteRes);\n        if(pacienteRes.res.estado == 4){\n\n        }\n      })\n        //window.alert('Paciente asignado correctamente.');\n      \n      }else{window.alert('No se ha podido ingresar.')} /*window.location.reload(false)*/})\n    .catch((error) => console.log(error)))\n\n    fetch('https://ms-paciente.herokuapp.com/paciente/obtenerId/'+data.idPaciente).then((res)=>res.json()).then(\n        function(pacienteRes){\n        console.log(pacienteRes);\n        if(pacienteRes.res.estado == 4){\n          camaService.getCama(data.id).then((cama) => camaService.update({'id':data.id,'idPaciente':data.idPaciente, 'disponible': 'false', 'fechaUso': 'null', 'idSala': cama.data.idSala, 'idPersonalR': data.idPersonal})\n          .then(function(response){ if(response.data){window.alert('Paciente asignado correctamente.')}else{window.alert('No se ha podido ingresar.')} window.location.reload(false)})\n          .catch((error) => console.log(error)))\n        }\n        else{\n          window.alert('Paciente no se encuentra en estado de recuperaci√≥n.')\n        }\n      })\n  }\n\n  \n\n  render() {\n\n    return (\n      <Container fluid className=\"main-content-container px-4 pb-4\">\n        {/* Page Header */}\n        <Row noGutters className=\"page-header py-4\">\n          <PageTitle sm=\"5\" title=\"Asignar Cama de Recuperaci√≥n\" subtitle=\"\" className=\"text-sm-left\" />\n        </Row>\n\n        <CamaAsig\n          onSubmit={this.handleAsignacionSubmit}\n        ></CamaAsig>\n      </Container>\n    );\n  }\n};\n\nexport default CamaAsigForm;\n"]},"metadata":{},"sourceType":"module"}